<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="default">
  <link rel="shortcut icon" href="favicon.ico" />
  <title>Spraying - busted</title>

  <!-- Launch icons -->
  <link rel="apple-touch-icon" href="img/icons/ios/icon.png" />
  <link rel="apple-touch-icon" sizes="72x72" href="img/icons/icon-72.png" />
  <link rel="apple-touch-icon" sizes="114x114" href="img/icons/icon@2x.png" />
  <link rel="apple-touch-icon" sizes="144x144" href="img/icons/icon-72@2x.png" />

  <!-- Stylesheets -->
  <link rel="stylesheet" href="css/normalize.css">
  <link rel="stylesheet" href="font/sag/style.css">
  <link rel="stylesheet" href="css/animate.css">
  <link rel="stylesheet" href="css/universal.css" />
  <link rel="stylesheet" href="css/spraying.css">

   <script src="js/modernizr.custom_modal.js"></script>
   
   <!-- start Mixpanel --><script type="text/javascript">(function(e,b){if(!b.__SV){var a,f,i,g;window.mixpanel=b;a=e.createElement("script");a.type="text/javascript";a.async=!0;a.src=("https:"===e.location.protocol?"https:":"http:")+'//cdn.mxpnl.com/libs/mixpanel-2.2.min.js';f=e.getElementsByTagName("script")[0];f.parentNode.insertBefore(a,f);b._i=[];b.init=function(a,e,d){function f(b,h){var a=h.split(".");2==a.length&&(b=b[a[0]],h=a[1]);b[h]=function(){b.push([h].concat(Array.prototype.slice.call(arguments,0)))}}var c=b;"undefined"!==
typeof d?c=b[d]=[]:d="mixpanel";c.people=c.people||[];c.toString=function(b){var a="mixpanel";"mixpanel"!==d&&(a+="."+d);b||(a+=" (stub)");return a};c.people.toString=function(){return c.toString(1)+".people (stub)"};i="disable track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config people.set people.set_once people.increment people.append people.track_charge people.clear_charges people.delete_user".split(" ");for(g=0;g<i.length;g++)f(c,i[g]);
b._i.push([a,e,d])};b.__SV=1.2}})(document,window.mixpanel||[]);
mixpanel.init("21b5b03d56c32459d17071cb2073ffce");</script><!-- end Mixpanel -->

</head>

<body id="spraying-busted" class="purple">

 <div class="md-modal md-effect-12" id="modal-12">
                  <div class="md-content">
                    <div>
                      <p>Busted means that some rival player caught you spraying, and therefore this operation is cancelled. This will cause 100 points deduction.</p>
                      <button class="md-close">Tap screen to close</button>
                    </div>
                  </div>
                </div>

      <div class="busted">
        <div>
          <h1><span>You're</span>Busted!</h1>
          <h3><span>by </span>Mr.Wh1te<span class="gang-name">Blue gang</span> </h2>
        </div>
        <span class="icon-surprised"></span>
        <div class="centering">
          <a href="#" class="btn2 md-trigger" data-modal="modal-12">?</a>
          <a href="index.html" class="btn">Proceed <span class="icon-arrow-right-small"></span></a>


        </div>

      </div> <!-- /busted -->


      <div id="loading">
          <div class="bar-percentage" data-percentage="101"></div>
      </div>
      <div class="load-wrap">
        <div class="loading"></div>
        <div class="showup">
          <div class="disappear">
            <img id="can-spraying" src="img/can-purple.png"> <!-- if purple-page this is visible -->
            <!-- <img id="can-spraying" src="img/can-blue.png"> -->  <!-- if blue-page this is visible -->
            <!-- <img id="can-spraying" src="img/can-green.png"> --> <!-- if green-page this is visible -->
          </div>
        </div>
      </div>


      <div id="footer">
        <div id="spray-text">
          <p id="prepare">Preparing...</p>
          <p id="progress">Okey, here we go!</p>
          <p id="finished">Cool, it's done!</p>
        </div>
      </div>

      <div class="points-earned">
        <p>Gongrats<br><span>1000</span><br> points earned!</p>
      </div>

                <div class="md-overlay"></div><!-- the overlay element -->

  <script src="js/jquery-1.11.0.min.js"></script>
  <script src="js/jquery.fittext.js"></script>

    <script src="js/classie.js"></script>
    <script src="js/modalEffects.js"></script>

    <script>

      // Pervcentage loading
      $('.bar-percentage[data-percentage]').each(function () {
        var progress = $(this);
        var percentage = Math.ceil($(this).attr('data-percentage'));
        $({countNum: 0}).delay(10000).animate({countNum: percentage}, {
          duration: 8000,
          easing:'linear',
          step: function() {
            // What todo on every count
            var pct = Math.floor(this.countNum) + '%';
            progress.text(pct) && progress.siblings().children().css('width',pct);
          }
        });
      });

      // Showing and hiding text elements
      jQuery(document).ready(function() {
        // jQuery("p#prepare").fadeIn(1000);
        jQuery("p#prepare").delay(2000).fadeOut(1000);
        // jQuery("p#progress").delay(5000).fadeIn(1000);
        jQuery("p#progress").delay(8000).fadeOut(1000);
        // jQuery("p#finished").delay(19000).fadeIn(500);
        jQuery("p#finished").delay(20000).fadeOut(300);
        jQuery("#loading").delay(22000).fadeOut(300);
        jQuery(".icon-surprised").delay(9000).fadeOut(600);

        // Redirect to home screen after finished spraying
      //   setTimeout(function() {
      //   window.location.href = "index.html";
      // }, 27000);
    });

    //Fittext.js
        jQuery(document).ready(function(){
          jQuery(".icon-surprised").fitText(.3);
        });

    // Animate.css
    jQuery(document).ready(function(){
            jQuery('p#prepare, p#progress, p#finished').addClass('animated bounceInDown');
            jQuery('.load-wrap').addClass('animated wobble');
            jQuery('#can-spraying').addClass('animated pulse');
            jQuery('.showup, a.btn2').addClass('animated bounceInDown');
            jQuery('.disappear').addClass('animated bounceOutDown');
            jQuery('.busted').addClass('animated fadeIn');
            jQuery('.points-earned, .icon-surprised').addClass('animated bounceInDown');
            jQuery('.busted h1').addClass('animated bounceInLeft');
            jQuery('.busted h3').addClass('animated bounceInRight');
            jQuery('a.btn').addClass('animated bounceInUp');

    });

    // Points animation
    jQuery({someValue: 0}).delay(23000).animate({someValue:1260}, {
        duration: 1000,
        easing:'swing',
        step: function() {
           $('.points-earned span').text (Math.ceil(this.someValue) + "");
        }
      });

  </script>

</body>
</html>
